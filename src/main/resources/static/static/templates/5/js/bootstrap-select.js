(function(a){var u=document.createElement("_");u.classList.toggle("c3",false);if(u.classList.contains("c3")){var b=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(A,z){if(1 in arguments&&!this.contains(A)===!z){return z}else{return b.call(this,A)}}}function j(z,A){return z.length===A.length&&z.every(function(B,C){return B===A[C]})}if(!String.prototype.startsWith){(function(){var z=(function(){try{var E={};var C=Object.defineProperty;var F=C(E,E,E)&&C}catch(D){}return F}());var B={}.toString;var A=function(F){if(this==null){throw new TypeError()}var J=String(this);if(F&&B.call(F)=="[object RegExp]"){throw new TypeError()}var K=J.length;var H=String(F);var G=H.length;var E=arguments.length>1?arguments[1]:undefined;var D=E?Number(E):0;if(D!=D){D=0}var I=Math.min(Math.max(D,0),K);if(G+I>K){return false}var C=-1;while(++C<G){if(J.charCodeAt(I+C)!=H.charCodeAt(C)){return false}}return true};if(z){z(String.prototype,"startsWith",{value:A,configurable:true,writable:true})}else{String.prototype.startsWith=A}}())}if(!Object.keys){Object.keys=function(A,z,B){B=[];for(z in A){B.hasOwnProperty.call(A,z)&&B.push(z)}return B}}var x={useDefault:false,_set:a.valHooks.select.set};a.valHooks.select.set=function(z,A){if(A&&!x.useDefault){a(z).data("selected",true)}return x._set.apply(this,arguments)};var c=null;var g=(function(){try{new Event("change");return true}catch(z){return false}})();a.fn.triggerNative=function(B){var z=this[0],A;if(z.dispatchEvent){if(g){A=new Event(B,{bubbles:true})}else{A=document.createEvent("Event");A.initEvent(B,true,false)}z.dispatchEvent(A)}else{if(z.fireEvent){A=document.createEventObject();A.eventType=B;z.fireEvent("on"+B,A)}else{this.trigger(B)}}};function t(A,D,B,C){var H=["content","subtext","tokens"],E=false;for(var z=0;z<H.length;z++){var G=H[z],F=A[G];if(F){if(C){F=m(F)}F=F.toUpperCase();if(B==="contains"){E=F.indexOf(D)>=0}else{E=F.startsWith(D)}if(E){break}}}return E}function v(z){return parseInt(z,10)||0}function m(A){var z=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];a.each(z,function(){A=A?A.replace(this.re,this.ch):""});return A}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var w={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};var e=function(A){var z=function(E){return A[E]};var C="(?:"+Object.keys(A).join("|")+")";var D=RegExp(C);var B=RegExp(C,"g");return function(E){E=E==null?"":""+E;return D.test(E)?E.replace(B,z):E}};var h=e(f);var i=e(w);var k={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};var l={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40};var y={};y.full=(a.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".");y.major=y.full[0];var d={DISABLED:"disabled",DIVIDER:y.major==="4"?"dropdown-divider":"divider",SHOW:y.major==="4"?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:y.major==="4"?"btn-light":"btn-default"};var p=new RegExp(l.ARROW_UP+"|"+l.ARROW_DOWN);var r=new RegExp("^"+l.TAB+"$|"+l.ESCAPE);var q=new RegExp(l.ENTER+"|"+l.SPACE);var s=function(z,A){var B=this;if(!x.useDefault){a.valHooks.select.set=x._set;x.useDefault=true}this.$element=a(z);this.$newElement=null;this.$button=null;this.$menu=null;this.options=A;this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){B.selectpicker.keydown.keyHistory=""},800)}}}};if(this.options.title===null){this.options.title=this.$element.attr("title")}var C=this.options.windowPadding;if(typeof C==="number"){this.options.windowPadding=[C,C,C,C]}this.val=s.prototype.val;this.render=s.prototype.render;this.refresh=s.prototype.refresh;this.setStyle=s.prototype.setStyle;this.selectAll=s.prototype.selectAll;this.deselectAll=s.prototype.deselectAll;this.destroy=s.prototype.destroy;this.remove=s.prototype.remove;this.show=s.prototype.show;this.hide=s.prototype.hide;this.init()};s.VERSION="1.13.0-beta";s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(z,A){return(z==1)?"{0} item selected":"{0} items selected"},maxOptionsText:function(z,A){return[(z==1)?"Limit reached ({n} item max)":"Limit reached ({n} items max)",(A==1)?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:false,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,liveSearchPlaceholder:null,liveSearchNormalize:false,liveSearchStyle:"contains",actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:false,template:{caret:'<span class="caret"></span>'},maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,windowPadding:0,virtualScroll:600};if(y.major==="4"){s.DEFAULTS.style="btn-light";s.DEFAULTS.iconBase="";s.DEFAULTS.tickIcon="bs-ok-default"}s.prototype={constructor:s,init:function(){var A=this,z=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createDropdown();this.createLi();this.$element.after(this.$newElement).prependTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");if(this.options.dropdownAlignRight===true){this.$menu.addClass(d.MENURIGHT)}if(typeof z!=="undefined"){this.$button.attr("data-id",z)}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}else{this.$element.on("hide.bs.select",function(){if(A.isVirtual()){var C=A.$menuInner[0],B=C.firstChild.cloneNode(false);C.replaceChild(B,C.firstChild);C.scrollTop=0}})}this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile){this.mobile()}this.$newElement.on({"hide.bs.dropdown":function(B){A.$menuInner.attr("aria-expanded",false);A.$element.trigger("hide.bs.select",B)},"hidden.bs.dropdown":function(B){A.$element.trigger("hidden.bs.select",B)},"show.bs.dropdown":function(B){A.$menuInner.attr("aria-expanded",true);A.$element.trigger("show.bs.select",B)},"shown.bs.dropdown":function(B){A.$element.trigger("shown.bs.select",B)}});if(A.$element[0].hasAttribute("required")){this.$element.on("invalid",function(){A.$button.addClass("bs-invalid");A.$element.on({"shown.bs.select":function(){A.$element.val(A.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){if(this.validity.valid){A.$button.removeClass("bs-invalid")}A.$element.off("rendered.bs.select")}});A.$button.on("blur.bs.select",function(){A.$element.focus().blur();A.$button.off("blur.bs.select")})})}setTimeout(function(){A.$element.trigger("loaded.bs.select")})},createDropdown:function(){var G=(this.multiple||this.options.showTick)?" show-tick":"",E=this.$element.parent().hasClass("input-group")?" input-group-btn":"",A=this.autofocus?" autofocus":"";var D=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var F=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+h(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";var z=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+d.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+d.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"";var B=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+d.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"";var C='<div class="dropdown bootstrap-select'+G+E+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+A+' role="button"><div class="filter-option"><div class="filter-option-inner"></div></div><span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu '+(y.major==="4"?"":d.SHOW)+'" role="combobox">'+D+F+z+'<div class="inner '+d.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+(y.major==="4"?d.SHOW:"")+'"></ul></div>'+B+"</div></div>";return a(C)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var A=0;A<this.selectpicker.current.data.length;A++){var B=this.selectpicker.current.data[A],z=true;if(B.type==="divider"){z=false;B.height=this.sizeInfo.dividerHeight}else{if(B.type==="optgroup-label"){z=false;B.height=this.sizeInfo.dropdownHeaderHeight}else{B.height=this.sizeInfo.liHeight}}if(B.disabled){z=false}this.selectpicker.view.canHighlight.push(z);B.position=(A===0?0:this.selectpicker.current.data[A-1].position)+B.height}},isVirtual:function(){return(this.options.virtualScroll!==false)&&this.selectpicker.main.elements.length>=this.options.virtualScroll||this.options.virtualScroll===true},createView:function(C,G){G=G||0;var I=this;this.selectpicker.current=C?this.selectpicker.search:this.selectpicker.main;var z;var A=[];var H;var D;var B;var E;this.setPositionData();F(G,true);this.$menuInner.off("scroll.createView").on("scroll.createView",function(J,K){if(!I.noScroll){F(this.scrollTop,K)}I.noScroll=false});function F(af,T){var ag=I.selectpicker.current.elements.length,K=[],L,J,Q,V,M=undefined,ae,ac,ad,aa=true,U=I.isVirtual();I.selectpicker.view.scrollTop=af;if(U===true){if(I.sizeInfo.hasScrollBar&&I.$menu[0].offsetWidth>I.sizeInfo.totalMenuWidth){I.sizeInfo.menuWidth=I.$menu[0].offsetWidth;I.sizeInfo.totalMenuWidth=I.sizeInfo.menuWidth+I.sizeInfo.scrollBarWidth;I.$menu.css("min-width",I.sizeInfo.menuWidth)}}L=Math.ceil(I.sizeInfo.menuInnerHeight/I.sizeInfo.liHeight*1.5);J=Math.round(ag/L)||1;for(var R=0;R<J;R++){var P=(R+1)*L;if(R===J-1){P=ag}K[R]=[(R)*L+(!R?0:1),P];if(!ag){break}if(M===undefined&&af<=I.selectpicker.current.data[P-1].position-I.sizeInfo.menuInnerHeight){M=R}}if(M===undefined){M=0}ae=[I.selectpicker.view.position0,I.selectpicker.view.position1];Q=Math.max(0,M-1);V=Math.min(J-1,M+1);I.selectpicker.view.position0=Math.max(0,K[Q][0])||0;I.selectpicker.view.position1=Math.min(ag,K[V][1])||0;ac=ae[0]!==I.selectpicker.view.position0||ae[1]!==I.selectpicker.view.position1;if(I.activeIndex!==undefined){D=I.selectpicker.current.elements[I.selectpicker.current.map.newIndex[I.prevActiveIndex]];A=I.selectpicker.current.elements[I.selectpicker.current.map.newIndex[I.activeIndex]];H=I.selectpicker.current.elements[I.selectpicker.current.map.newIndex[I.selectedIndex]];if(T){if(I.activeIndex!==I.selectedIndex){A.classList.remove("active");if(A.firstChild){A.firstChild.classList.remove("active")}}I.activeIndex=undefined}if(I.activeIndex&&I.activeIndex!==I.selectedIndex&&H&&H.length){H.classList.remove("active");if(H.firstChild){H.firstChild.classList.remove("active")}}}if(I.prevActiveIndex!==undefined&&I.prevActiveIndex!==I.activeIndex&&I.prevActiveIndex!==I.selectedIndex&&D&&D.length){D.classList.remove("active");if(D.firstChild){D.firstChild.classList.remove("active")}}if(T||ac){ad=I.selectpicker.view.visibleElements?I.selectpicker.view.visibleElements.slice():[];I.selectpicker.view.visibleElements=I.selectpicker.current.elements.slice(I.selectpicker.view.position0,I.selectpicker.view.position1);I.setOptionStatus();if(C||(U===false&&T)){aa=!j(ad,I.selectpicker.view.visibleElements)}if((T||U===true)&&aa){var Z=I.$menuInner[0],Y=document.createDocumentFragment(),O=Z.firstChild.cloneNode(false),X,W,N=U===true?I.selectpicker.view.visibleElements:I.selectpicker.current.elements;Z.replaceChild(O,Z.firstChild);for(var R=0,ah=N.length;R<ah;R++){Y.appendChild(N[R])}if(U===true){X=(I.selectpicker.view.position0===0?0:I.selectpicker.current.data[I.selectpicker.view.position0-1].position),W=(I.selectpicker.view.position1>ag-1?0:I.selectpicker.current.data[ag-1].position-I.selectpicker.current.data[I.selectpicker.view.position1-1].position);Z.firstChild.style.marginTop=X+"px";Z.firstChild.style.marginBottom=W+"px"}Z.firstChild.appendChild(Y)}}I.prevActiveIndex=I.activeIndex;if(!I.options.liveSearch){I.$menuInner.focus()}else{if(C&&T){var S=0,ab;if(!I.selectpicker.view.canHighlight[S]){S=1+I.selectpicker.view.canHighlight.slice(1).indexOf(true)}ab=I.selectpicker.view.visibleElements[S];if(I.selectpicker.view.currentActive){I.selectpicker.view.currentActive.classList.remove("active");if(I.selectpicker.view.currentActive.firstChild){I.selectpicker.view.currentActive.firstChild.classList.remove("active")}}if(ab){ab.classList.add("active");if(ab.firstChild){ab.firstChild.classList.add("active")}}I.activeIndex=I.selectpicker.current.map.originalIndex[S]}}}a(window).off("resize.createView").on("resize.createView",function(){F(I.$menuInner[0].scrollTop)})},createLi:function(){var Q=this,O=[],R,B=0,S=0,N=[],P=0,K=0,M=-1;if(!this.selectpicker.view.titleOption){this.selectpicker.view.titleOption=document.createElement("option")}var E={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\u00A0")},C=E.span.cloneNode(false),F=document.createDocumentFragment();C.className=Q.options.iconBase+" "+Q.options.tickIcon+" check-mark";E.a.appendChild(C);E.a.setAttribute("role","option");E.subtext.className="text-muted";E.text=E.span.cloneNode(false);E.text.className="text";var I=function(U,V,T,X){var W=E.li.cloneNode(false);if(U){if(U.nodeType===1||U.nodeType===11){W.appendChild(U)}else{W.innerHTML=U}}if(typeof T!=="undefined"&&""!==T){W.className=T}if(typeof X!=="undefined"&&null!==X){W.classList.add("optgroup-"+X)}return W};var G=function(W,U,V){var T=E.a.cloneNode(true);if(W){if(W.nodeType===11){T.appendChild(W)}else{T.insertAdjacentHTML("beforeend",W)}}if(typeof U!=="undefined"&""!==U){T.className=U}if(y.major==="4"){T.classList.add("dropdown-item")}if(V){T.setAttribute("style",V)}return T};var J=function(U){var W=E.text.cloneNode(false),V,T;if(U.optionContent){W.innerHTML=U.optionContent}else{W.textContent=U.text;if(U.optionIcon){var X=E.whitespace.cloneNode(false);T=E.span.cloneNode(false);T.className=Q.options.iconBase+" "+U.optionIcon;F.appendChild(T);F.appendChild(X)}if(U.optionSubtext){V=E.subtext.cloneNode(false);V.textContent=U.optionSubtext;W.appendChild(V)}}F.appendChild(W);return F};var H=function(W){var V=E.text.cloneNode(false),U,T;V.textContent=W.labelEscaped;if(W.labelIcon){var X=E.whitespace.cloneNode(false);T=E.span.cloneNode(false);T.className=Q.options.iconBase+" "+W.labelIcon;F.appendChild(T);F.appendChild(X)}if(W.labelSubtext){U=E.subtext.cloneNode(false);U.textContent=W.labelSubtext;V.appendChild(U)}F.appendChild(V);return F};if(this.options.title&&!this.multiple){M--;var D=this.$element[0],L=false;if(!this.selectpicker.view.titleOption.parentNode){this.selectpicker.view.titleOption.className="bs-title-option";this.selectpicker.view.titleOption.innerHTML=this.options.title;this.selectpicker.view.titleOption.value="";var z=a(D.options[D.selectedIndex]);L=z.attr("selected")===undefined&&this.$element.data("selected")===undefined}D.insertBefore(this.selectpicker.view.titleOption,D.firstChild);if(L){D.selectedIndex=0}}var A=this.$element.find("option");A.each(function(Z){var V=a(this);M++;if(V.hasClass("bs-title-option")){return}var av=V.data();var ak=this.className||"",aa=h(this.style.cssText),al=av.content,at=this.textContent,aw=av.tokens,ar=av.subtext,Y=av.icon,U=V.parent(),am=U[0],ac=am.tagName==="OPTGROUP",ad=ac&&am.disabled,ab=this.disabled||ad,ap,aq=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP",au;var an=U.data();if(av.hidden===true||Q.options.hideDisabled&&(ab&&!ac||ad)){ap=av.prevHiddenIndex;V.next().data("prevHiddenIndex",(ap!==undefined?ap:Z));M--;if(!aq){if(ap!==undefined){var ao=A[ap].previousElementSibling;if(ao&&ao.tagName==="OPTGROUP"&&!ao.disabled){aq=true}}}if(aq&&N[N.length-1].type!=="divider"){M++;O.push(I(false,null,d.DIVIDER,P+"div"));N.push({type:"divider",optID:P,originalIndex:Z})}return}if(ac&&av.divider!==true){if(Q.options.hideDisabled&&ab){if(an.allOptionsDisabled===undefined){var T=U.children();U.data("allOptionsDisabled",T.filter(":disabled").length===T.length)}if(U.data("allOptionsDisabled")){M--;return}}var aj=" "+am.className||"";if(!this.previousElementSibling){P+=1;var ae=am.label,ag=h(ae),ai=an.subtext,ah=an.icon;if(Z!==0&&O.length>0){M++;O.push(I(false,null,d.DIVIDER,P+"div"));N.push({type:"divider",optID:P,originalIndex:Z})}M++;var af=H({labelEscaped:ag,labelSubtext:ai,labelIcon:ah});O.push(I(af,null,"dropdown-header"+aj,P));N.push({content:ag,subtext:ai,type:"optgroup-label",optID:P,originalIndex:Z});K=M-1}if(Q.options.hideDisabled&&ab||av.hidden===true){M--;return}au=J({text:at,optionContent:al,optionSubtext:ar,optionIcon:Y});O.push(I(G(au,"opt "+ak+aj,aa),Z,"",P));N.push({content:at,subtext:ar,tokens:aw,type:"option",optID:P,headerIndex:K,lastIndex:K+am.childElementCount,originalIndex:Z});B++}else{if(av.divider===true){O.push(I(false,Z,"divider"));N.push({type:"divider",originalIndex:Z})}else{if(!aq&&Q.options.hideDisabled){ap=av.prevHiddenIndex;if(ap!==undefined){var ao=A[ap].previousElementSibling;if(ao&&ao.tagName==="OPTGROUP"&&!ao.disabled){aq=true}}}if(aq&&N[N.length-1].type!=="divider"){M++;O.push(I(false,null,d.DIVIDER,P+"div"));N.push({type:"divider",optID:P,originalIndex:Z})}au=J({text:at,optionContent:al,optionSubtext:ar,optionIcon:Y});O.push(I(G(au,ak,aa),Z));N.push({content:at,subtext:ar,tokens:aw,type:"option",originalIndex:Z});B++}}Q.selectpicker.main.map.newIndex[Z]=M;Q.selectpicker.main.map.originalIndex[M]=Z;var W=N[N.length-1];W.disabled=ab;var X=0;if(W.content){X+=W.content.length}if(W.subtext){X+=W.subtext.length}if(Y){X+=1}if(X>S){S=X;R=O[O.length-1]}});this.selectpicker.main.elements=O;this.selectpicker.main.data=N;this.selectpicker.current=this.selectpicker.main;this.selectpicker.view.widestOption=R;this.selectpicker.view.availableOptionsCount=B},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var D=this,z=this.$element.find("option"),B=[],C=[];this.togglePlaceholder();this.tabIndex();z.each(function(J){if(this.selected){B.push(this);if(C.length<100&&D.options.selectedTextFormat!=="count"){if(D.options.hideDisabled&&(this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled)){return}var H=a(this),L=H.data(),I=L.icon&&D.options.showIcon?'<i class="'+D.options.iconBase+" "+L.icon+'"></i> ':"",K,M;if(D.options.showSubtext&&L.subtext&&!D.multiple){K=' <small class="text-muted">'+L.subtext+"</small>"}else{K=""}if(typeof H.attr("title")!=="undefined"){M=H.attr("title")}else{if(L.content&&D.options.showContent){M=L.content.toString()}else{M=I+H.html()+K}}C.push(M)}}});var E=!this.multiple?C[0]:C.join(this.options.multipleSeparator);if(B.length>100){E+="..."}if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var A=this.options.selectedTextFormat.split(">");if((A.length>1&&B.length>A[1])||(A.length===1&&B.length>=2)){var F=this.selectpicker.view.availableOptionsCount,G=(typeof this.options.countSelectedText==="function")?this.options.countSelectedText(B.length,F):this.options.countSelectedText;E=G.replace("{0}",B.length.toString()).replace("{1}",F.toString())}}if(this.options.title==undefined){this.options.title=this.$element.attr("title")}if(this.options.selectedTextFormat=="static"){E=this.options.title}if(!E){E=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",i(a.trim(E.replace(/<[^>]*>?/g,""))));this.$button.find(".filter-option-inner").html(E);this.$element.trigger("rendered.bs.select")},setStyle:function(B,A){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""))}var z=B?B:this.options.style;if(A=="add"){this.$button.addClass(z)}else{if(A=="remove"){this.$button.removeClass(z)}else{this.$button.removeClass(this.options.style);this.$button.addClass(z)}}},liHeight:function(W){if(!W&&(this.options.size===false||this.sizeInfo)){return}if(!this.sizeInfo){this.sizeInfo={}}var V=document.createElement("div"),O=document.createElement("div"),Q=document.createElement("div"),R=document.createElement("ul"),D=document.createElement("li"),H=document.createElement("li"),M=document.createElement("li"),A=document.createElement("a"),aa=document.createElement("span"),J=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(true):null,Y=this.options.liveSearch?document.createElement("div"):null,B=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(true):null,F=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(true):null;this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth;aa.className="text";A.className="dropdown-item";V.className=this.$menu[0].parentNode.className+" "+d.SHOW;V.style.width=this.sizeInfo.selectWidth+"px";O.className="dropdown-menu "+d.SHOW;Q.className="inner "+d.SHOW;R.className="dropdown-menu inner "+(y.major==="4"?d.SHOW:"");D.className=d.DIVIDER;H.className="dropdown-header";aa.appendChild(document.createTextNode("Inner text"));A.appendChild(aa);M.appendChild(A);H.appendChild(aa.cloneNode(true));if(this.selectpicker.view.widestOption){R.appendChild(this.selectpicker.view.widestOption.cloneNode(true))}R.appendChild(M);R.appendChild(D);R.appendChild(H);if(J){O.appendChild(J)}if(Y){var L=document.createElement("input");Y.className="bs-searchbox";L.className="form-control";Y.appendChild(L);O.appendChild(Y)}if(B){O.appendChild(B)}Q.appendChild(R);O.appendChild(Q);if(F){O.appendChild(F)}V.appendChild(O);document.body.appendChild(V);var N=A.offsetHeight,I=H?H.offsetHeight:0,K=J?J.offsetHeight:0,Z=Y?Y.offsetHeight:0,C=B?B.offsetHeight:0,G=F?F.offsetHeight:0,E=a(D).outerHeight(true),T=window.getComputedStyle?window.getComputedStyle(O):false,U=O.offsetWidth,z=T?null:a(O),S={vert:v(T?T.paddingTop:z.css("paddingTop"))+v(T?T.paddingBottom:z.css("paddingBottom"))+v(T?T.borderTopWidth:z.css("borderTopWidth"))+v(T?T.borderBottomWidth:z.css("borderBottomWidth")),horiz:v(T?T.paddingLeft:z.css("paddingLeft"))+v(T?T.paddingRight:z.css("paddingRight"))+v(T?T.borderLeftWidth:z.css("borderLeftWidth"))+v(T?T.borderRightWidth:z.css("borderRightWidth"))},P={vert:S.vert+v(T?T.marginTop:z.css("marginTop"))+v(T?T.marginBottom:z.css("marginBottom"))+2,horiz:S.horiz+v(T?T.marginLeft:z.css("marginLeft"))+v(T?T.marginRight:z.css("marginRight"))+2},X;Q.style.overflowY="scroll";X=O.offsetWidth-U;document.body.removeChild(V);this.sizeInfo.liHeight=N;this.sizeInfo.dropdownHeaderHeight=I;this.sizeInfo.headerHeight=K;this.sizeInfo.searchHeight=Z;this.sizeInfo.actionsHeight=C;this.sizeInfo.doneButtonHeight=G;this.sizeInfo.dividerHeight=E;this.sizeInfo.menuPadding=S;this.sizeInfo.menuExtras=P;this.sizeInfo.menuWidth=U;this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth;this.sizeInfo.scrollBarWidth=X;this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight;this.setPositionData()},getSelectPosition:function(){var D=this,A=a(window),C=D.$newElement.offset(),z=a(D.options.container),B;if(D.options.container&&!z.is("body")){B=z.offset();B.top+=parseInt(z.css("borderTopWidth"));B.left+=parseInt(z.css("borderLeftWidth"))}else{B={top:0,left:0}}var E=D.options.windowPadding;this.sizeInfo.selectOffsetTop=C.top-B.top-A.scrollTop();this.sizeInfo.selectOffsetBot=A.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-B.top-E[2];this.sizeInfo.selectOffsetLeft=C.left-B.left-A.scrollLeft();this.sizeInfo.selectOffsetRight=A.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-B.left-E[1];this.sizeInfo.selectOffsetTop-=E[0];this.sizeInfo.selectOffsetLeft-=E[3]},setMenuSize:function(H){this.getSelectPosition();var Q=this.sizeInfo.selectWidth,I=this.sizeInfo.liHeight,F=this.sizeInfo.headerHeight,P=this.sizeInfo.searchHeight,A=this.sizeInfo.actionsHeight,D=this.sizeInfo.doneButtonHeight,B=this.sizeInfo.dividerHeight,N=this.sizeInfo.menuPadding,L,K,C=0,O,z,J,M,E;if(this.options.dropupAuto){E=I*this.selectpicker.current.elements.length+N.vert;this.$newElement.toggleClass(d.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&E+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)}if(this.options.size==="auto"){z=this.selectpicker.current.elements.length>3?this.sizeInfo.liHeight*3+this.sizeInfo.menuExtras.vert-2:0;K=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert;O=z+F+P+A+D;M=Math.max(z-N.vert,0);if(this.$newElement.hasClass(d.DROPUP)){K=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert}J=K;L=K-F-P-A-D-N.vert}else{if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){for(var G=0;G<this.options.size;G++){if(this.selectpicker.current.data[G].type==="divider"){C++}}K=I*this.options.size+C*B+N.vert;L=K-N.vert;J=K+F+P+A+D;O=M=""}}if(this.options.dropdownAlignRight==="auto"){this.$menu.toggleClass(d.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<(this.$menu[0].offsetWidth-Q))}this.$menu.css({"max-height":J+"px",overflow:"hidden","min-height":O+"px"});this.$menuInner.css({"max-height":L+"px","overflow-y":"auto","min-height":M+"px"});this.sizeInfo.menuInnerHeight=L;if(this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight){this.sizeInfo.hasScrollBar=true;this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth;this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)}if(this.dropdown){this.dropdown._popper.update()}},setSize:function(B){this.liHeight(B);if(this.options.header){this.$menu.css("padding-top",0)}if(this.options.size===false){return}var D=this,z=a(window),C,A=0;this.setMenuSize();if(this.options.size==="auto"){this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return D.setMenuSize()});z.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return D.setMenuSize()})}else{if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){this.$searchbox.off("input.setMenuSize propertychange.setMenuSize");z.off("resize.setMenuSize scroll.setMenuSize")}}if(B){A=this.$menuInner[0].scrollTop}else{if(!D.multiple){C=D.selectpicker.main.map.newIndex[D.$element[0].selectedIndex];if(typeof C==="number"&&D.options.size!==false){A=D.sizeInfo.liHeight*C;A=A-(D.sizeInfo.menuInnerHeight/2)+(D.sizeInfo.liHeight/2)}}}D.createView(false,A)},setWidth:function(){var z=this;if(this.options.width==="auto"){requestAnimationFrame(function(){z.$menu.css("min-width","0");z.liHeight();z.setMenuSize();var A=z.$newElement.clone().appendTo("body"),B=A.css("width","auto").children("button").outerWidth();A.remove();z.sizeInfo.selectWidth=Math.max(z.sizeInfo.totalMenuWidth,B);z.$newElement.css("width",z.sizeInfo.selectWidth+"px")})}else{if(this.options.width==="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var E=this,z=a(this.options.container),D,B,A,C=function(F){var G={};E.$bsContainer.addClass(F.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(d.DROPUP,F.hasClass(d.DROPUP));D=F.offset();if(!z.is("body")){B=z.offset();B.top+=parseInt(z.css("borderTopWidth"))-z.scrollTop();B.left+=parseInt(z.css("borderLeftWidth"))-z.scrollLeft()}else{B={top:0,left:0}}A=F.hasClass(d.DROPUP)?0:F[0].offsetHeight;if(y.major<4){G.top=D.top-B.top+A;G.left=D.left-B.left}G.width=F[0].offsetWidth;E.$bsContainer.css(G)};this.$button.on("click.bs.dropdown.data-api",function(){if(E.isDisabled()){return}C(E.$newElement);E.$bsContainer.appendTo(E.options.container).toggleClass(d.SHOW,!E.$button.hasClass(d.SHOW)).append(E.$menu)});a(window).on("resize scroll",function(){C(E.$newElement)});this.$element.on("hide.bs.select",function(){E.$menu.data("height",E.$menu.height());E.$bsContainer.detach()})},setOptionStatus:function(){var F=this,z=this.$element.find("option");F.noScroll=false;if(F.selectpicker.view.visibleElements&&F.selectpicker.view.visibleElements.length){for(var A=0;A<F.selectpicker.view.visibleElements.length;A++){var B=F.selectpicker.current.map.originalIndex[A+F.selectpicker.view.position0],E=z[B];if(E){var D=this.selectpicker.main.map.newIndex[B],C=this.selectpicker.main.elements[D];F.setDisabled(B,E.disabled||E.parentNode.tagName==="OPTGROUP"&&E.parentNode.disabled,D,C);F.setSelected(B,E.selected,D,C)}}}},setSelected:function(B,H,E,D){var A=this.activeIndex!==undefined,I=this.activeIndex===B,G,F,z,C=I||H&&!this.multiple&&!A;if(!E){E=this.selectpicker.main.map.newIndex[B]}if(!D){D=this.selectpicker.main.elements[E]}z=D.firstChild;if(H){this.selectedIndex=B}D.classList.toggle("selected",H);D.classList.toggle("active",C);if(C){this.selectpicker.view.currentActive=D;this.activeIndex=B}if(z){z.classList.toggle("selected",H);z.classList.toggle("active",C);z.setAttribute("aria-selected",H)}if(!C){if(!A&&H&&this.prevActiveIndex){G=this.selectpicker.main.map.newIndex[this.prevActiveIndex];F=this.selectpicker.main.elements[G];F.classList.remove("active");if(F.firstChild){F.firstChild.classList.remove("active")}}}},setDisabled:function(B,A,D,C){var z;if(!D){D=this.selectpicker.main.map.newIndex[B]}if(!C){C=this.selectpicker.main.elements[D]}z=C.firstChild;C.classList.toggle(d.DISABLED,A);if(z){if(y.major==="4"){z.classList.toggle(d.DISABLED,A)}z.setAttribute("aria-disabled",A);if(A){z.setAttribute("tabindex",-1)}else{z.setAttribute("tabindex",0)}}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var z=this;if(this.isDisabled()){this.$newElement.addClass(d.DISABLED);this.$button.addClass(d.DISABLED).attr("tabindex",-1).attr("aria-disabled",true)}else{if(this.$button.hasClass(d.DISABLED)){this.$newElement.removeClass(d.DISABLED);this.$button.removeClass(d.DISABLED).attr("aria-disabled",false)}if(this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}this.$button.click(function(){return !z.isDisabled()})},togglePlaceholder:function(){var z=this.$element[0],B=z.selectedIndex,A=B===-1;if(!A&&!z.options[B].value){A=true}this.$button.toggleClass("bs-placeholder",A)},tabIndex:function(){if(this.$element.data("tabindex")!==this.$element.attr("tabindex")&&(this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}this.$element.attr("tabindex",-98)},clickListener:function(){var A=this,z=a(document);z.data("spaceSelect",false);this.$button.on("keyup",function(B){if(/(32)/.test(B.keyCode.toString(10))&&z.data("spaceSelect")){B.preventDefault();z.data("spaceSelect",false)}});this.$newElement.on("show.bs.dropdown",function(){if(y.major>3&&!A.dropdown){A.dropdown=A.$button.data("bs.dropdown");A.dropdown._menu=A.$menu[0]}});this.$button.on("click.bs.dropdown.data-api",function(){if(!A.$newElement.hasClass(d.SHOW)){A.setSize()}});this.$element.on("shown.bs.select",function(){if(A.$menuInner[0].scrollTop!==A.selectpicker.view.scrollTop){A.$menuInner[0].scrollTop=A.selectpicker.view.scrollTop}if(A.options.liveSearch){A.$searchbox.focus()}else{A.$menuInner.focus()}});this.$menuInner.on("click","li a",function(H,U){var F=a(this),R=A.isVirtual()?A.selectpicker.view.position0:0,G=A.selectpicker.current.map.originalIndex[F.parent().index()+R],T=A.$element.val(),S=A.$element.prop("selectedIndex"),W=true;if(A.multiple&&A.options.maxOptions!==1){H.stopPropagation()}H.preventDefault();if(!A.isDisabled()&&!F.parent().hasClass(d.DISABLED)){var E=A.$element.find("option"),D=E.eq(G),V=D.prop("selected"),C=D.parent("optgroup"),I=A.options.maxOptions,K=C.data("maxOptions")||false;if(!A.multiple){E.prop("selected",false);D.prop("selected",true);A.setSelected(G,true)}else{D.prop("selected",!V);if(G===A.activeIndex){U=true}if(!U){A.prevActiveIndex=A.activeIndex;A.activeIndex=undefined}A.setSelected(G,!V);F.blur();if(I!==false||K!==false){var M=I<E.filter(":selected").length,N=K<C.find("option:selected").length;if((I&&M)||(K&&N)){if(I&&I==1){E.prop("selected",false);D.prop("selected",true);A.$menuInner.find(".selected").removeClass("selected");A.setSelected(G,true)}else{if(K&&K==1){C.find("option:selected").prop("selected",false);D.prop("selected",true);var Q=A.selectpicker.current.data[F.parent().index()+A.selectpicker.view.position0].optID;A.$menuInner.find(".optgroup-"+Q).removeClass("selected");A.setSelected(G,true)}else{var L=typeof A.options.maxOptionsText==="string"?[A.options.maxOptionsText,A.options.maxOptionsText]:A.options.maxOptionsText,J=typeof L==="function"?L(I,K):L,O=J[0].replace("{n}",I),P=J[1].replace("{n}",K),B=a('<div class="notify"></div>');if(J[2]){O=O.replace("{var}",J[2][I>1?0:1]);P=P.replace("{var}",J[2][K>1?0:1])}D.prop("selected",false);A.$menu.append(B);if(I&&M){B.append(a("<div>"+O+"</div>"));W=false;A.$element.trigger("maxReached.bs.select")}if(K&&N){B.append(a("<div>"+P+"</div>"));W=false;A.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){A.setSelected(G,false)},10);B.delay(750).fadeOut(300,function(){a(this).remove()})}}}}}if(!A.multiple||(A.multiple&&A.options.maxOptions===1)){A.$button.focus()}else{if(A.options.liveSearch){A.$searchbox.focus()}}if(W){if((T!=A.$element.val()&&A.multiple)||(S!=A.$element.prop("selectedIndex")&&!A.multiple)){c=[G,D.prop("selected"),V];A.$element.triggerNative("change")}}}});this.$menu.on("click","li."+d.DISABLED+" a, .popover-title, .popover-title :not(.close)",function(B){if(B.currentTarget==this){B.preventDefault();B.stopPropagation();if(A.options.liveSearch&&!a(B.target).hasClass("close")){A.$searchbox.focus()}else{A.$button.focus()}}});this.$menuInner.on("click",".divider, .dropdown-header",function(B){B.preventDefault();B.stopPropagation();if(A.options.liveSearch){A.$searchbox.focus()}else{A.$button.focus()}});this.$menu.on("click",".popover-title .close",function(){A.$button.click()});this.$searchbox.on("click",function(B){B.stopPropagation()});this.$menu.on("click",".actions-btn",function(B){if(A.options.liveSearch){A.$searchbox.focus()}else{A.$button.focus()}B.preventDefault();B.stopPropagation();if(a(this).hasClass("bs-select-all")){A.selectAll()}else{A.deselectAll()}});this.$element.on({change:function(){A.render();A.$element.trigger("changed.bs.select",c);c=null},focus:function(){A.$button.focus()}})},liveSearchListener:function(){var A=this,z=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){if(!!A.$searchbox.val()){A.$searchbox.val("")}});this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(B){B.stopPropagation()});this.$searchbox.on("input propertychange",function(){var N=A.$searchbox.val();A.selectpicker.search.map.newIndex={};A.selectpicker.search.map.originalIndex={};A.selectpicker.search.elements=[];A.selectpicker.search.data=[];if(N){var E,L=[],K=N.toUpperCase(),B={},C=[],M=A._searchStyle(),I=A.options.liveSearchNormalize;A._$lisSelected=A.$menuInner.find(".selected");for(var E=0;E<A.selectpicker.main.data.length;E++){var G=A.selectpicker.main.data[E];if(!B[E]){B[E]=t(G,K,M,I)}if(B[E]&&G.headerIndex!==undefined&&C.indexOf(G.headerIndex)===-1){if(G.headerIndex>0){B[G.headerIndex-1]=true;C.push(G.headerIndex-1)}B[G.headerIndex]=true;C.push(G.headerIndex);B[G.lastIndex+1]=true}if(B[E]&&G.type!=="optgroup-label"){C.push(E)}}for(var E=0,D=C.length;E<D;E++){var F=C[E],J=C[E-1],G=A.selectpicker.main.data[F],H=A.selectpicker.main.data[J];if(G.type!=="divider"||(G.type==="divider"&&H&&H.type!=="divider"&&D-1!==E)){A.selectpicker.search.data.push(G);L.push(A.selectpicker.main.elements[F]);A.selectpicker.search.map.newIndex[G.originalIndex]=L.length-1;A.selectpicker.search.map.originalIndex[L.length-1]=G.originalIndex}}A.activeIndex=undefined;A.noScroll=true;A.$menuInner.scrollTop(0);A.selectpicker.search.elements=L;A.createView(true);if(!L.length){z.className="no-results";z.innerHTML=A.options.noneResultsText.replace("{0}",'"'+h(N)+'"');A.$menuInner[0].firstChild.appendChild(z)}}else{A.$menuInner.scrollTop(0);A.createView(false)}})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(z){if(typeof z!=="undefined"){this.$element.val(z).triggerNative("change");return this.$element}else{return this.$element.val()}},changeAll:function(F){if(!this.multiple){return}if(typeof F==="undefined"){F=true}var z=this.$element.find("option"),E=0,A=0;for(var B=0;B<this.selectpicker.current.elements.length;B++){var C=this.selectpicker.current.map.originalIndex[B],D=z[C];if(D){if(D.selected){E++}D.selected=F;if(D.selected){A++}}}if(E===A){return}this.setOptionStatus();this.togglePlaceholder();this.$element.triggerNative("change")},selectAll:function(){return this.changeAll(true)},deselectAll:function(){return this.changeAll(false)},toggle:function(z){z=z||window.event;if(z){z.stopPropagation()}this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(E){var B=a(this),A=B.is("input")?B.parent().parent():B.parent(),V=A.data("this"),z=V.findLis(),H,I,N,C,R,W=false,D=E.which===l.TAB&&!B.hasClass("dropdown-toggle")&&!V.options.selectOnTab,J=p.test(E.which)||D,T=V.$menuInner[0].scrollTop,K=V.isVirtual(),S=K===true?V.selectpicker.view.position0:0;I=V.$newElement.hasClass(d.SHOW);if(!I&&(J||E.which>=48&&E.which<=57||E.which>=96&&E.which<=105||E.which>=65&&E.which<=90)){V.$button.trigger("click.bs.dropdown.data-api")}if(E.which===l.ESCAPE&&I){E.preventDefault();V.$button.trigger("click.bs.dropdown.data-api").focus()}if(J){if(!z.length){return}H=K===true?z.index(z.filter(".active")):V.selectpicker.current.map.newIndex[V.activeIndex];if(H===undefined){H=-1}if(H!==-1){N=V.selectpicker.current.elements[H+S];N.classList.remove("active");if(N.firstChild){N.firstChild.classList.remove("active")}}if(E.which===l.ARROW_UP){if(H!==-1){H--}if(H+S<0){H+=z.length}if(!V.selectpicker.view.canHighlight[H+S]){H=V.selectpicker.view.canHighlight.slice(0,H+S).lastIndexOf(true)-S;if(H===-1){H=z.length-1}}}else{if(E.which===l.ARROW_DOWN||D){H++;if(H+S>=V.selectpicker.view.canHighlight.length){H=0}if(!V.selectpicker.view.canHighlight[H+S]){H=H+1+V.selectpicker.view.canHighlight.slice(H+S+1).indexOf(true)}}}E.preventDefault();var O=S+H;if(E.which===l.ARROW_UP){if(S===0&&H===z.length-1){V.$menuInner[0].scrollTop=V.$menuInner[0].scrollHeight;O=V.selectpicker.current.elements.length-1}else{C=V.selectpicker.current.data[O];R=C.position-C.height;W=R<T}}else{if(E.which===l.ARROW_DOWN||D){if(S!==0&&H===0){V.$menuInner[0].scrollTop=0;O=0}else{C=V.selectpicker.current.data[O];R=C.position-V.sizeInfo.menuInnerHeight;W=R>T}}}N=V.selectpicker.current.elements[O];N.classList.add("active");if(N.firstChild){N.firstChild.classList.add("active")}V.activeIndex=V.selectpicker.current.map.originalIndex[O];V.selectpicker.view.currentActive=N;if(W){V.$menuInner[0].scrollTop=R}if(V.options.liveSearch){V.$searchbox.focus()}else{B.focus()}}else{if(!B.is("input")&&!r.test(E.which)||(E.which===l.SPACE&&V.selectpicker.keydown.keyHistory)){var U,P=[],L;E.preventDefault();V.selectpicker.keydown.keyHistory+=k[E.which];if(V.selectpicker.keydown.resetKeyHistory.cancel){clearTimeout(V.selectpicker.keydown.resetKeyHistory.cancel)}V.selectpicker.keydown.resetKeyHistory.cancel=V.selectpicker.keydown.resetKeyHistory.start();L=V.selectpicker.keydown.keyHistory;if(/^(.)\1+$/.test(L)){L=L.charAt(0)}for(var G=0;G<V.selectpicker.current.data.length;G++){var M=V.selectpicker.current.data[G],F;F=t(M,L,"startsWith",true);if(F&&V.selectpicker.view.canHighlight[G]){M.index=G;P.push(M.originalIndex)}}if(P.length){var Q=0;z.removeClass("active").find("a").removeClass("active");if(L.length===1){Q=P.indexOf(V.activeIndex);if(Q===-1||Q===P.length-1){Q=0}else{Q++}}U=V.selectpicker.current.map.newIndex[P[Q]];C=V.selectpicker.current.data[U];if(T-C.position>0){R=C.position-C.height;W=true}else{R=C.position-V.sizeInfo.menuInnerHeight;W=C.position>T+V.sizeInfo.menuInnerHeight}N=V.selectpicker.current.elements[U];N.classList.add("active");if(N.firstChild){N.firstChild.classList.add("active")}V.activeIndex=P[Q];N.firstChild.focus();if(W){V.$menuInner[0].scrollTop=R}B.focus()}}}if(I&&((E.which===l.SPACE&&!V.selectpicker.keydown.keyHistory)||E.which===l.ENTER||(E.which===l.TAB&&V.options.selectOnTab))){if(E.which!==l.SPACE){E.preventDefault()}if(!V.options.liveSearch||E.which!==l.SPACE){V.$menuInner.find(".active a").trigger("click",true);B.focus();if(!V.options.liveSearch){E.preventDefault();a(document).data("spaceSelect",true)}}}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var z=a.extend({},this.options,this.$element.data());this.options=z;this.selectpicker.main.map.newIndex={};this.selectpicker.main.map.originalIndex={};this.createLi();this.checkDisabled();this.render();this.setStyle();this.setWidth();this.setSize(true);this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();if(this.$bsContainer){this.$bsContainer.remove()}else{this.$menu.remove()}this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};function o(C){var A=arguments;var z=C;[].shift.apply(A);var D;var B=this.each(function(){var E=a(this);if(E.is("select")){var G=E.data("selectpicker"),I=typeof z=="object"&&z;if(!G){var F=a.extend({},s.DEFAULTS,a.fn.selectpicker.defaults||{},E.data(),I);F.template=a.extend({},s.DEFAULTS.template,(a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{}),E.data().template,I.template);E.data("selectpicker",(G=new s(this,F)))}else{if(I){for(var H in I){if(I.hasOwnProperty(H)){G.options[H]=I[H]}}}}if(typeof z=="string"){if(G[z] instanceof Function){D=G[z].apply(G,A)}else{D=G.options[z]}}}});if(typeof D!=="undefined"){return D}else{return B}}var n=a.fn.selectpicker;a.fn.selectpicker=o;a.fn.selectpicker.Constructor=s;a.fn.selectpicker.noConflict=function(){a.fn.selectpicker=n;return this};a(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',s.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(z){z.stopPropagation()});a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var z=a(this);o.call(z,z.data())})})})(jQuery);